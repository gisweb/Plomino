<span tal:define="widget python:options['field'].getSettings('widget')">
    <tal:label metal:use-macro="here/macros/macros/showlabel" >
        display the field title as label
    </tal:label>
    <tal:widget tal:condition="python:test(widget=='HIDDEN')">
        <input type="hidden" tal:attributes="id options/fieldname;
            name options/fieldname; value options/fieldvalue" />
    </tal:widget>
    <tal:widget tal:condition="python:test(widget=='TEXT')"
        tal:define="size python:options['field'].getSettings('size')">
        <span><span>
            <input type="text" style="width: 100%"
                tal:define="mandatory python: 'mandatory' if options['field'].getMandatory() else ''"
                tal:attributes="id options/fieldname;
                class python: 'field' if not mandatory else 'field mandatory';
                name options/fieldname;
                value options/fieldvalue;
                size size" /></span>
        </span>
    </tal:widget>
    <tal:widget tal:condition="python:test(widget=='TEXTAREA')">
        <span><textarea tal:attributes="id options/fieldname;
            name options/fieldname;
            rows size"
            tal:content="options/fieldvalue" /></span>
    </tal:widget>
</span>
